define(["@jupyter-widgets/base"],function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e,r){var n=r(11),o=r(10),i="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(a);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function u(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var o="generic"===t;if(-1===e){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(i)()}if(0===e){i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",i)(c[t][0])}i=["'use strict'"];var a=n(e),u=a.map(function(t){return"i"+t}),p="this.offset+"+a.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=a.map(function(t){return"b"+t}).join(","),l=a.map(function(t){return"c"+t}).join(",");i.push("function "+r+"(a,"+f+","+l+",d){this.data=a","this.shape=["+f+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+r+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),o?i.push("return this.data.set("+p+",v)}"):i.push("return this.data["+p+"]=v}"),i.push("proto.get=function "+r+"_get("+u.join(",")+"){"),o?i.push("return this.data.get("+p+")}"):i.push("return this.data["+p+"]}"),i.push("proto.index=function "+r+"_index(",u.join(),"){return "+p+"}"),i.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+a.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+a.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=a.map(function(t){return"a"+t+"=this.shape["+t+"]"}),h=a.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+h.join(","));for(var y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");i.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+a.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+a.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");i.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"b"+t}).join(",")+",c)}");var m=new Array(e),_=new Array(e);for(y=0;y<e;++y)m[y]="a[i"+y+"]",_[y]="b[i"+y+"]";i.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+m.join(",")+","+_.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(t){return"shape["+t+"]"}).join(",")+","+a.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(c[t],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,e,r,n){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===r){r=new Array(a);for(var s=a-1,p=1;s>=0;--s)r[s]=p,p*=e[s]}if(void 0===n)for(n=0,s=0;s<a;++s)r[s]<0&&(n-=(e[s]-1)*r[s]);for(var f=function(t){if(o(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}(t),l=c[f];l.length<=a+1;)l.push(u(f,l.length-1));return(0,l[a+1])(t,e,r,n)}},function(e,r){e.exports=t},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);function o(t){if("array"===t||"buffer"===t||"generic"===t)throw new Error("Cannot serialize ndarray with dtype: "+t+".");return"uint8_clamped"===t&&(t="uint8"),t}function i(t,r){return null===t?null:n(new e.typesToArray[t.dtype](t.buffer.buffer),t.shape)}function a(t,e){if(null===t)return null;var r=o(t.dtype);return{shape:t.shape,dtype:r,buffer:t.data}}e.ensureSerializableDtype=o,e.JSONToArray=i,e.arrayToJSON=a,e.array_serialization={deserialize:i,serialize:a},e.typesToArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint8_clamped:Uint8ClampedArray,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array}},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(2)),n(r(9)),n(r(8)),e.version=r(7).version},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EXTENSION_SPEC_VERSION="4.0.0",e.version=r(12).version},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(13),s=r(3),u=r(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.defaults=function(){return i({},t.prototype.defaults.call(this),{array:u([]),_model_name:e.model_name})},e.prototype.getNDArray=function(t){return void 0===t&&(t="array"),this.get(t)},e.serializers=i({},a.DataModel.serializers,{array:s.array_serialization}),e.model_name="NDArrayModel",e}(a.DataModel);e.NDArrayModel=c},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=r(3),u=r(5),c=r(0);function p(t,e){if(void 0===e)return c(t.data.slice(),t.shape,t.stride,t.offset);if("buffer"===e||"generic"===e||"array"===e)throw new Error('Cannot copy ndarray of dtype "'+e+'".');return c(new s.typesToArray[e](t.data),t.shape,t.stride,t.offset)}e.copyArray=p;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scaledData=null,e}return o(e,t),e.prototype.defaults=function(){return i({},t.prototype.defaults.call(this),{array:c([]),scale:null,_model_name:e.model_name})},e.prototype.computeScaledData=function(){var t=s.getArray(this.get("array")),e=this.get("scale");if(null===t||null===e){var r=null!==this.scaledData;return this.scaledData=null,void(r&&this.trigger("change:scaledData",{resized:!0}))}var n=this.arrayMismatch();n&&(this.scaledData=p(t,this.scaledDtype()));for(var o=t.data,i=this.scaledData.data,a=0;a<o.length;++a)i[a]=e.obj(o[a]);this.trigger("change:scaledData",{resized:n})},e.prototype.initialize=function(e,r){var n=this;t.prototype.initialize.call(this,e,r),this.initPromise=Promise.resolve().then(function(){n.computeScaledData(),n.setupListeners()})},e.prototype.setupListeners=function(){this.on("change",this.onChange,this),s.listenToUnion(this,"array",this.onChange.bind(this)),this.listenTo(this.get("scale"),"change",this.onChange)},e.prototype.getNDArray=function(e){return void 0===e&&(e="scaledData"),"scaledData"===e?(null===this.scaledData&&this.computeScaledData(),this.scaledData):t.prototype.getNDArray.call(this,e)},e.prototype.onChange=function(t){this.computeScaledData()},e.prototype.arrayMismatch=function(){var t=s.getArray(this.get("array"));return(null!==t||null!==this.scaledData)&&(null===t||null===this.scaledData||JSON.stringify(t.shape)!==JSON.stringify(this.scaledData.shape)||t.dtype!==this.scaledData.dtype)},e.prototype.scaledDtype=function(){var t=s.getArray(this.get("array"));if(null!==t)return t.dtype},e.serializers=i({},u.NDArrayModel.serializers,{array:s.data_union_serialization,scale:{deserialize:a.unpack_models}}),e.model_name="ScaledArrayModel",e}(u.NDArrayModel);e.ScaledArrayModel=f},function(t){t.exports={name:"jupyter-dataserializers",version:"1.1.2",description:"A set of widget utilities for array serialization",main:"lib/index.js",types:"./lib/index.d.ts",scripts:{clean:"rimraf lib",build:"tsc --project src",test:"npm run test:firefox","test:chrome":"karma start --browsers=Chrome tests/karma.conf.js","test:debug":"karma start --browsers=Chrome --singleRun=false --debug=true tests/karma.conf.js","test:firefox":"karma start --browsers=Firefox tests/karma.conf.js","test:ie":"karma start --browsers=IE tests/karma.conf.js",watch:"tsc --project src --watch"},keywords:["jupyter","widgets"],author:"Vidar T. Fauske",license:"BSD-3-Clause",devDependencies:{"@types/expect.js":"^0.3.29","@types/mocha":"^2.2.48","@types/ndarray":"^1.0.5","@types/node":"^9.4.6","expect.js":"^0.3.1",karma:"^2.0.0","karma-chrome-launcher":"^2.2.0","karma-firefox-launcher":"^1.1.0","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5","karma-typescript":"^3.0.12",mocha:"^5.0.1",typescript:"~2.7.2"},dependencies:{"@jupyter-widgets/base":"^1.1.8",ndarray:"^1.0.18"}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(2);function i(t,e){return"string"==typeof t?n.unpack_models(t,e):Promise.resolve(o.JSONToArray(t,e))}function a(t,e){return"string"==typeof t?n.unpack_models(t,e).then(function(t){return t.getNDArray()}):Promise.resolve(o.JSONToArray(t,e))}function s(t,e){return t instanceof n.WidgetModel?t.toJSON(void 0):o.arrayToJSON(t,e)}e.JSONToUnion=i,e.JSONToUnionArray=a,e.unionToJSON=s,e.listenToUnion=function(t,e,r,o){function i(e){e instanceof n.WidgetModel&&t.listenTo(e,"change",r)}function a(a,s,u){var c=t.previous(e)||[],p=s||[];c instanceof n.WidgetModel?t.stopListening(c):!o||p instanceof n.WidgetModel||r(a,u),o&&c instanceof n.WidgetModel!=p instanceof n.WidgetModel&&r(a,u),i(p)}return i(t.get(e)),t.on("change:"+e,a),function(){var r=t.get(e);r instanceof n.WidgetModel&&t.stopListening(r),t.off("change:"+e,a)}},e.data_union_array_serialization={deserialize:a,serialize:s},e.data_union_serialization={deserialize:i,serialize:s}},function(t,e,r){"use strict";function n(t){return t&&"function"==typeof t.getNDArray}Object.defineProperty(e,"__esModule",{value:!0}),e.isDataSource=n,e.getArray=function(t){return n(t)?t.getNDArray():t}},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}},function(t){t.exports={name:"jupyter-datawidgets",version:"4.0.1",description:"A set of widgets to help facilitate reuse of large datasets across widgets",main:"lib/index.js",types:"./lib/index.d.ts",scripts:{"clean:lib":"rimraf lib","clean:nbextension":"rimraf ../../ipydatawidgets/nbextension/static/index.js",clean:"npm run clean:lib && npm run clean:nbextension","build:nbextension":"webpack -p","build:lib":"tsc --project src",build:"npm run build:lib && npm run build:nbextension",test:"npm run test:firefox","test:chrome":"karma start --browsers=Chrome tests/karma.conf.js","test:debug":"karma start --browsers=Chrome --singleRun=false --debug=true tests/karma.conf.js","test:firefox":"karma start --browsers=Firefox tests/karma.conf.js","test:ie":"karma start --browsers=IE tests/karma.conf.js",watch:"webpack -d --watch"},keywords:["jupyter","widgets"],author:"Vidar T. Fauske",license:"BSD-3-Clause",devDependencies:{"@types/expect.js":"^0.3.29","@types/mocha":"^2.2.48","@types/ndarray":"^1.0.5","@types/node":"^9.4.6","expect.js":"^0.3.1",karma:"^2.0.0","karma-chrome-launcher":"^2.2.0","karma-firefox-launcher":"^1.1.0","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5","karma-typescript":"^3.0.12",mocha:"^5.0.1","source-map-loader":"^0.2.3","ts-loader":"^4.0.1",typescript:"~2.7.2",webpack:"^4.1.0","webpack-cli":"^2.0.10"},dependencies:{"@jupyter-widgets/base":"^1.1.8","jupyter-dataserializers":"^1.1.2","jupyter-scales":"^1.1.0",ndarray:"^1.0.18"}}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=r(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.defaults=function(){return i({},t.prototype.defaults.call(this),{_model_module:e.model_module,_model_module_version:e.model_module_version,_view_name:e.view_name,_view_module:e.view_module,_view_module_version:e.view_module_version})},e.serializers=i({},a.WidgetModel.serializers),e.model_module="jupyter-datawidgets",e.model_module_version=s.EXTENSION_SPEC_VERSION,e.view_name=null,e.view_module=null,e.view_module_version="",e}(a.WidgetModel);e.DataModel=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5);e.NDArrayModel=n.NDArrayModel;var o=r(6);e.ScaledArrayModel=o.ScaledArrayModel;var i=r(4);e.version=i.version,e.EXTENSION_SPEC_VERSION=i.EXTENSION_SPEC_VERSION}])});
//# sourceMappingURL=index.js.map