/*! For license information please see panel-shopping-list-1fb1882b49eff1377611.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{166:function(n,e,t){"use strict";t(2),t(19),t(26),t(43);var o,i,a=t(4),p=t(0),r=(o=["\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n"],i=["\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n"],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}})));Object(a.a)({_template:Object(p.a)(r),is:"paper-item-body"})},405:function(n,e,t){"use strict";t.r(e),t(133),t(132),t(97),t(130),t(101),t(53),t(52),t(137),t(166),t(77),t(84),t(105);var o,i,a=t(0),p=t(3),r=(t(117),t(145),t(14)),l=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),s=function n(e,t,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:n(a,t,o)}if("value"in i)return i.value;var p=i.get;return void 0!==p?p.call(o):void 0},c=(o=["\n    <style include=\"ha-style\">\n      :host {\n        height: 100%;\n      }\n      app-toolbar paper-listbox {\n        width: 150px;\n      }\n      app-toolbar paper-item {\n        cursor: pointer;\n      }\n      .content {\n        padding-bottom: 32px;\n        max-width: 600px;\n        margin: 0 auto;\n      }\n      paper-card {\n        display: block;\n      }\n      paper-icon-item {\n        border-top: 1px solid var(--divider-color);\n      }\n      paper-icon-item:first-child {\n        border-top: 0;\n      }\n      paper-checkbox {\n        padding: 11px;\n      }\n      paper-input {\n        --paper-input-container-underline: {\n          display: none;\n        }\n        --paper-input-container-underline-focus: {\n          display: none;\n        }\n        position: relative;\n        top: 1px;\n      }\n      .tip {\n        padding: 24px;\n        text-align: center;\n        color: var(--secondary-text-color);\n      }\n    </style>\n\n    <app-header-layout has-scrolling-region>\n      <app-header slot=\"header\" fixed>\n        <app-toolbar>\n          <ha-menu-button narrow='[[narrow]]' show-menu='[[showMenu]]'></ha-menu-button>\n          <div main-title>[[localize('panel.shopping_list')]]</div>\n          <ha-start-voice-button hass='[[hass]]' can-listen='{{canListen}}'></ha-start-voice-button>\n          <paper-menu-button\n            horizontal-align=\"right\"\n            horizontal-offset=\"-5\"\n            vertical-offset=\"-5\"\n          >\n            <paper-icon-button\n              icon=\"mdi:dots-vertical\"\n              slot=\"dropdown-trigger\"\n            ></paper-icon-button>\n            <paper-listbox slot=\"dropdown-content\">\n              <paper-item\n                on-click=\"_clearCompleted\"\n              >[[localize('ui.panel.shopping-list.clear_completed')]]</paper-item>\n            </paper-listbox>\n          </paper-menu-button>\n        </app-toolbar>\n      </app-header>\n\n      <div class='content'>\n        <paper-card>\n          <paper-icon-item on-focus='_focusRowInput'>\n            <paper-icon-button\n              slot=\"item-icon\"\n              icon=\"mdi:plus\"\n              on-click='_addItem'\n            ></paper-icon-button>\n            <paper-item-body>\n              <paper-input\n                id='addBox'\n                placeholder=\"[[localize('ui.panel.shopping-list.add_item')]]\"\n                on-keydown='_addKeyPress'\n                no-label-float\n              ></paper-input>\n            </paper-item-body>\n          </paper-icon-item>\n\n          <template is='dom-repeat' items='[[items]]'>\n            <paper-icon-item>\n                <paper-checkbox\n                  slot=\"item-icon\"\n                  checked='{{item.complete}}'\n                  on-click='_itemCompleteTapped'\n                  tabindex='0'\n                ></paper-checkbox>\n              <paper-item-body>\n                <paper-input\n                  id='editBox'\n                  no-label-float\n                  value='[[item.name]]'\n                  on-change='_saveEdit'\n                ></paper-input>\n              </paper-item-body>\n            </paper-icon-item>\n          </template>\n        </paper-card>\n        <div class='tip' hidden$='[[!canListen]]'>\n          [[localize('ui.panel.shopping-list.microphone_tip')]]\n        </div>\n      </div>\n    </app-header-layout>\n    "],i=["\n    <style include=\"ha-style\">\n      :host {\n        height: 100%;\n      }\n      app-toolbar paper-listbox {\n        width: 150px;\n      }\n      app-toolbar paper-item {\n        cursor: pointer;\n      }\n      .content {\n        padding-bottom: 32px;\n        max-width: 600px;\n        margin: 0 auto;\n      }\n      paper-card {\n        display: block;\n      }\n      paper-icon-item {\n        border-top: 1px solid var(--divider-color);\n      }\n      paper-icon-item:first-child {\n        border-top: 0;\n      }\n      paper-checkbox {\n        padding: 11px;\n      }\n      paper-input {\n        --paper-input-container-underline: {\n          display: none;\n        }\n        --paper-input-container-underline-focus: {\n          display: none;\n        }\n        position: relative;\n        top: 1px;\n      }\n      .tip {\n        padding: 24px;\n        text-align: center;\n        color: var(--secondary-text-color);\n      }\n    </style>\n\n    <app-header-layout has-scrolling-region>\n      <app-header slot=\"header\" fixed>\n        <app-toolbar>\n          <ha-menu-button narrow='[[narrow]]' show-menu='[[showMenu]]'></ha-menu-button>\n          <div main-title>[[localize('panel.shopping_list')]]</div>\n          <ha-start-voice-button hass='[[hass]]' can-listen='{{canListen}}'></ha-start-voice-button>\n          <paper-menu-button\n            horizontal-align=\"right\"\n            horizontal-offset=\"-5\"\n            vertical-offset=\"-5\"\n          >\n            <paper-icon-button\n              icon=\"mdi:dots-vertical\"\n              slot=\"dropdown-trigger\"\n            ></paper-icon-button>\n            <paper-listbox slot=\"dropdown-content\">\n              <paper-item\n                on-click=\"_clearCompleted\"\n              >[[localize('ui.panel.shopping-list.clear_completed')]]</paper-item>\n            </paper-listbox>\n          </paper-menu-button>\n        </app-toolbar>\n      </app-header>\n\n      <div class='content'>\n        <paper-card>\n          <paper-icon-item on-focus='_focusRowInput'>\n            <paper-icon-button\n              slot=\"item-icon\"\n              icon=\"mdi:plus\"\n              on-click='_addItem'\n            ></paper-icon-button>\n            <paper-item-body>\n              <paper-input\n                id='addBox'\n                placeholder=\"[[localize('ui.panel.shopping-list.add_item')]]\"\n                on-keydown='_addKeyPress'\n                no-label-float\n              ></paper-input>\n            </paper-item-body>\n          </paper-icon-item>\n\n          <template is='dom-repeat' items='[[items]]'>\n            <paper-icon-item>\n                <paper-checkbox\n                  slot=\"item-icon\"\n                  checked='{{item.complete}}'\n                  on-click='_itemCompleteTapped'\n                  tabindex='0'\n                ></paper-checkbox>\n              <paper-item-body>\n                <paper-input\n                  id='editBox'\n                  no-label-float\n                  value='[[item.name]]'\n                  on-change='_saveEdit'\n                ></paper-input>\n              </paper-item-body>\n            </paper-icon-item>\n          </template>\n        </paper-card>\n        <div class='tip' hidden$='[[!canListen]]'>\n          [[localize('ui.panel.shopping-list.microphone_tip')]]\n        </div>\n      </div>\n    </app-header-layout>\n    "],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),d=function(n){function e(){return function(n,t){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(e,Object(r.a)(p.a)),l(e,[{key:"connectedCallback",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),this._fetchData=this._fetchData.bind(this),this.hass.connection.subscribeEvents(this._fetchData,"shopping_list_updated").then(function(n){this._unsubEvents=n}.bind(this)),this._fetchData()}},{key:"disconnectedCallback",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),this._unsubEvents&&this._unsubEvents()}},{key:"_fetchData",value:function(){this.hass.callApi("get","shopping_list").then(function(n){n.reverse(),this.items=n}.bind(this))}},{key:"_itemCompleteTapped",value:function(n){var e=this;n.stopPropagation(),this.hass.callApi("post","shopping_list/item/"+n.model.item.id,{complete:n.target.checked}).catch(function(){return e._fetchData()})}},{key:"_addItem",value:function(n){var e=this;this.hass.callApi("post","shopping_list/item",{name:this.$.addBox.value}).catch(function(){return e._fetchData()}),this.$.addBox.value="",n&&setTimeout(function(){return e.$.addBox.focus()},10)}},{key:"_addKeyPress",value:function(n){13===n.keyCode&&this._addItem()}},{key:"_saveEdit",value:function(n){var e=this,t=n.model,o=t.index,i=t.item,a=n.target.value;a!==i.name&&(this.set(["items",o,"name"],a),this.hass.callApi("post","shopping_list/item/"+i.id,{name:a}).catch(function(){return e._fetchData()}))}},{key:"_clearCompleted",value:function(){this.hass.callApi("POST","shopping_list/clear_completed")}}],[{key:"template",get:function(){return Object(a.a)(c)}},{key:"properties",get:function(){return{hass:Object,narrow:Boolean,showMenu:Boolean,canListen:Boolean,items:{type:Array,value:[]}}}}]),e}();customElements.define("ha-panel-shopping-list",d)}}]);
//# sourceMappingURL=panel-shopping-list-1fb1882b49eff1377611.chunk.js.map