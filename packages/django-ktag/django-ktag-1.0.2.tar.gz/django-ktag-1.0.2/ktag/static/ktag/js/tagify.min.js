var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,a,b,d){if(a){b=$jscomp.global;c=c.split(".");for(d=0;d<c.length-1;d++){var e=c[d];e in b||(b[e]={});b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Object.is",function(c){return c?c:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(a,b){var d=this;d instanceof String&&(d=String(d));var c=d.length;for(b=b||0;b<c;b++)if(d[b]==a||Object.is(d[b],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(c,a,b){if(null==c)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return c+""};$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var a=0;return $jscomp.iteratorPrototype(function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,a){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var b=0,d={next:function(){if(b<c.length){var e=b++;return{value:a(e,c[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(c,a){"function"===typeof define&&define.amd?define([],a):"object"===typeof exports?module.exports=a():c.Tagify=a()})(this,function(){function c(a,b){if(!a)return console.warn("Tagify: ","invalid input element ",a),this;this.settings=this.extend({},b,this.DEFAULTS);this.settings.readonly=a.hasAttribute("readonly");this.legacyFixes();if(a.pattern)try{this.settings.pattern=new RegExp(a.pattern)}catch(d){}if(b&&b.delimiters)try{this.settings.delimiters=new RegExp("["+b.delimiters+"]")}catch(d){}this.id=
Math.random().toString(36).substr(2,9);this.value=[];this.DOM={};this.extend(this,new this.EventDispatcher);this.build(a);this.events()}c.prototype={DEFAULTS:{delimiters:",",pattern:"",callbacks:{},duplicates:!1,enforceWhitelist:!1,autocomplete:!0,whitelist:[],blacklist:[],maxTags:Infinity,suggestionsMinChars:2,maxSuggestions:10},legacyFixes:function(){var a=this.settings;a.hasOwnProperty("enforeWhitelist")&&!a.hasOwnProperty("enforceWhitelist")&&(a.enforceWhitelist=a.enforeWhitelist,delete a.enforeWhitelist,
console.warn("Please update your Tagify settings. The 'enforeWhitelist' property is deprecated and you should be using 'enforceWhitelist'."))},build:function(a){var b=a.value,d='<div><input list="tagifySuggestions'+this.id+'" class="placeholder"/><span>'+a.placeholder+"</span></div>";this.DOM.originalInput=a;this.DOM.scope=document.createElement("tags");a.className&&(this.DOM.scope.className=a.className);this.DOM.scope.innerHTML=d;this.DOM.input=this.DOM.scope.querySelector("input");this.settings.readonly&&
this.DOM.scope.classList.add("readonly");a.parentNode.insertBefore(this.DOM.scope,a);this.DOM.scope.appendChild(a);this.settings.autocomplete&&this.settings.whitelist.length&&("suggestions"in this?this.suggestions.init():this.DOM.datalist=this.buildDataList());b&&this.addTags(b).forEach(function(a){a&&a.classList.add("tagify--noAnim")})},destroy:function(){this.DOM.scope.parentNode.appendChild(this.DOM.originalInput);this.DOM.scope.parentNode.removeChild(this.DOM.scope)},extend:function(a,b,d){function c(a,
b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}a instanceof Object||(a={});d&&c(a,d);c(a,b);return a},EventDispatcher:function(){var a=document.createTextNode("");this.off=a.removeEventListener.bind(a);this.on=a.addEventListener.bind(a);this.trigger=function(b,d){if(b)if(this.isJQueryPlugin)$(this.DOM.originalInput).triggerHandler(b,[d]);else{try{var c=new CustomEvent(b,{detail:d})}catch(f){c=document.createEvent("Event"),c.initEvent("toggle",!1,!1)}a.dispatchEvent(c)}}},events:function(){var a=
this,b={paste:["onPaste","input"],focus:["onFocusBlur","input"],blur:["onFocusBlur","input"],input:["onInput","input"],keydown:["onKeydown","input"],click:["onClickScope","scope"]},d;for(d in b)this.DOM[b[d][1]].addEventListener(d,this.callbacks[b[d][0]].bind(this));"add remove duplicate maxTagsExceed blacklisted notWhitelisted".split(" ").forEach(function(b){a.on(b,a.settings.callbacks[b])});if(this.isJQueryPlugin)$(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))},
callbacks:{onFocusBlur:function(a){var b=a.target.value.trim();"focus"==a.type?a.target.className="input":"blur"==a.type&&b?this.addTags(b).length&&(a.target.value=""):(a.target.className="input placeholder",this.DOM.input.removeAttribute("style"))},onKeydown:function(a){var b=a.target.value,d=this;if("Backspace"==a.key&&(""==b||8203==b.charCodeAt(0))){var c=this.DOM.scope.querySelectorAll("tag:not(.tagify--hide)");c=c[c.length-1];this.removeTag(c)}"Escape"==a.key&&(a.target.value="",a.target.blur());
if("Enter"==a.key)return a.preventDefault(),this.addTags(b).length&&(a.target.value=""),!1;this.noneDatalistInput&&clearTimeout(this.noneDatalistInput);this.noneDatalistInput=setTimeout(function(){d.noneDatalistInput=null},50)},onInput:function(a){var b=a.target.value,d=!this.noneDatalistInput&&1<b.length,c=b.length>=this.settings.suggestionsMinChars;a.target.style.width=7*(a.target.value.length+1)+"px";-1!=b.slice().search(this.settings.delimiters)||d?this.addTags(b).length&&(a.target.value=""):
this.settings.autocomplete&&this.settings.whitelist.length&&(a=this.DOM.input.parentNode.contains(this.DOM.datalist),!c&&a?this.DOM.input.parentNode.removeChild(this.DOM.datalist):c&&!a&&this.DOM.input.parentNode.appendChild(this.DOM.datalist))},onPaste:function(a){var b=this;this.noneDatalistInput&&clearTimeout(this.noneDatalistInput);this.noneDatalistInput=setTimeout(function(){b.noneDatalistInput=null},50)},onClickScope:function(a){"TAGS"==a.target.tagName&&this.DOM.input.focus();"X"==a.target.tagName&&
this.removeTag(a.target.parentNode)}},buildDataList:function(){var a="",b,c=document.createElement("datalist");c.id="tagifySuggestions"+this.id;c.innerHTML="<label>                                 select from the list:                                 <select>                                     <option value=''></option>                                     [OPTIONS]                                 </select>                             </label>";for(b=this.settings.whitelist.length;b--;)a+="<option>"+
this.settings.whitelist[b]+"</option>";c.innerHTML=c.innerHTML.replace("[OPTIONS]",a);return c},getNodeIndex:function(a){for(var b=0;a=a.previousSibling;)3==a.nodeType&&/^\s*$/.test(a.data)||b++;return b},isTagDuplicate:function(a){return this.value.some(function(b){return a.toLowerCase()===b.value.toLowerCase()})},markTagByValue:function(a,b){var c;if(!b){var e=this.DOM.scope.querySelectorAll("tag");for(c=e.length;c--;)e[c].textContent.toLowerCase().includes(a.toLowerCase())&&(b=e[c])}return b?(b.classList.add("tagify--mark"),
setTimeout(function(){b.classList.remove("tagify--mark")},2E3),!0):!1},isTagBlacklisted:function(a){a=a.split(" ");return this.settings.blacklist.filter(function(b){return-1!=a.indexOf(b)}).length},isTagWhitelisted:function(a){return-1!=this.settings.whitelist.indexOf(a)},addTags:function(a){function b(a){var b=a.value.trim(),c=this.value.length>=this.settings.maxTags,d;return b?this.settings.pattern&&!this.settings.pattern.test(b)?"pattern":this.isTagDuplicate(b)&&(this.trigger("duplicate",b),!this.settings.duplicates)?
"duplicate":this.isTagBlacklisted(b)||this.settings.enforceWhitelist&&!this.isTagWhitelisted(b)||c?(a.class=a.class?a.class+" tagify--notAllowed":"tagify--notAllowed",c?d="maxTagsExceed":this.isTagBlacklisted(b)?d="blacklisted":this.settings.enforceWhitelist&&!this.isTagWhitelisted(b)&&(d="notWhitelisted"),this.trigger(d,{value:b,index:this.value.length}),"notAllowed"):!0:"empty"}var c=this,e=[];this.DOM.input.removeAttribute("style");a=function(a){var b=this.settings.whitelist[0]instanceof Object,
c=a instanceof Array&&"value"in a[0],d=a;if(c)return d;!c&&"string"==typeof a&&b&&(b=this.settings.whitelist.filter(function(b){return b.value.toLowerCase()==a.toLowerCase()}),b[0]&&(c=!0,d=b));if(!c){a=a.trim();if(!a)return[];d=a.split(this.settings.delimiters).map(function(a){return{value:a.trim()}})}return d.filter(function(a){return a})}.call(this,a);a.forEach(function(a){var d=b.call(c,a);if(!0===d||"notAllowed"==d){var f=c.createTagElem(a);c.DOM.scope.insertBefore(f,c.DOM.input.parentNode);
"notAllowed"==d?setTimeout(function(){c.removeTag(f,!0)},1E3):(c.value.push(a),c.update(),c.trigger("add",c.extend({},a,{index:c.value.length,tag:f})),e.push(f))}});return e},createTagElem:function(a){var b=document.createElement("tag");b.innerHTML="<x></x><div><span title='"+a.value+"'>"+a.value+" </span></div>";a:{var c,e=Object.keys(a);for(c=e.length;c--;){var f=e[c];if(!a.hasOwnProperty(f))break a;b.setAttribute(f,a[f])}}return b},removeTag:function(a,b){var c=this.getNodeIndex(a);a&&(a.style.width=
parseFloat(window.getComputedStyle(a).width)+"px",document.body.clientTop,a.classList.add("tagify--hide"),setTimeout(function(){a.parentNode.removeChild(a)},400),b||(b=this.value.splice(c,1)[0],this.update(),this.trigger("remove",this.extend({},b,{index:c,tag:a}))))},removeAllTags:function(){this.value=[];this.update();Array.prototype.slice.call(this.DOM.scope.querySelectorAll("tag")).forEach(function(a){a.parentNode.removeChild(a)})},update:function(){var a=this.value.map(function(a){return a.value}).join(this.settings.delimiters.toString().replace("/[",
"").replace("]/",""));this.DOM.originalInput.value=a}};return c});