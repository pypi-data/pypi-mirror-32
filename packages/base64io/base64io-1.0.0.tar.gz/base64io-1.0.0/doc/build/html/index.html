

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>base64io &mdash; base64io 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="base64io 1.0.0 documentation" href="#"/>
        <link rel="next" title="base64io" href="generated/base64io.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> base64io
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="generated/base64io.html">base64io</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">base64io</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>base64io</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="base64io">
<h1>base64io<a class="headerlink" href="#base64io" title="Permalink to this headline">¶</a></h1>
<p>Python has had native base64 encoding support since 2.4, which is great. However, when we
needed to encoded and decode streaming data, we realized that there is no streaming interface
for base64 encoding, and there doesn’t appear to be anything available from the community
either.</p>
<p>There is the legacy <code class="docutils literal notranslate"><span class="pre">base64.encode</span></code> and <code class="docutils literal notranslate"><span class="pre">base64.decode</span></code> interface, but while this interface
lets you shuffle data between two streams, it assumes that you are starting with two complete
streams. What we really wanted was a standard stream that applies base64 encoding/decoding.</p>
<p>This led us to build <a class="reference internal" href="generated/base64io.html#base64io.Base64IO" title="base64io.Base64IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">base64io.Base64IO</span></code></a>.</p>
<p>The latest full documentation can be found at <a class="reference external" href="http://base64io-python.readthedocs.io/en/latest/">Read the Docs</a>.</p>
<p>Find us on <a class="reference external" href="https://github.com/awslabs/base64io-python/">GitHub</a>.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="required-prerequisites">
<h3>Required Prerequisites<a class="headerlink" href="#required-prerequisites" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</div>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install base64io
</pre></div>
</div>
</div>
</div>
<div class="section" id="use">
<h2>Use<a class="headerlink" href="#use" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="generated/base64io.html#base64io.Base64IO" title="base64io.Base64IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">base64io.Base64IO</span></code></a> works by wrapping another stream and transparently transforming
data written to or read from that stream.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">write()</span></code> encodes data before writing it to the wrapped stream</li>
<li><code class="docutils literal notranslate"><span class="pre">read()</span></code> decodes data after reading it from the wrapped stream</li>
</ul>
<p>Because the position of the <a class="reference internal" href="generated/base64io.html#base64io.Base64IO" title="base64io.Base64IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">base64io.Base64IO</span></code></a> stream and the wrapped stream will
almost always be differently, <a class="reference internal" href="generated/base64io.html#base64io.Base64IO" title="base64io.Base64IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">base64io.Base64IO</span></code></a> does not support:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">seek()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">tell()</span></code></li>
</ul>
<p><a class="reference internal" href="generated/base64io.html#base64io.Base64IO" title="base64io.Base64IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">base64io.Base64IO</span></code></a> also does not support:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">fileno()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">truncate()</span></code></li>
</ul>
<div class="section" id="encode-data">
<h3>Encode data<a class="headerlink" href="#encode-data" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Any time you are writing to a <a class="reference internal" href="generated/base64io.html#base64io.Base64IO" title="base64io.Base64IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">base64io.Base64IO</span></code></a> stream, you <strong>must</strong> close the
stream after your final write. Because of how the base64 transformation works, up to two
bytes of unencoded data might be held in an internal buffer and not written to the wrapped
stream. Calling <code class="docutils literal notranslate"><span class="pre">close()</span></code> flushes this buffer and writes the padded result to the wrapped
stream.</p>
<p class="last">If you are using <a class="reference internal" href="generated/base64io.html#base64io.Base64IO" title="base64io.Base64IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">base64io.Base64IO</span></code></a> as a context manager, we take care of this for you.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">base64io</span> <span class="kn">import</span> <span class="n">Base64IO</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;source_file&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">source</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;encoded_file&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">target</span><span class="p">:</span>
   <span class="k">with</span> <span class="n">Base64IO</span><span class="p">(</span><span class="n">target</span><span class="p">)</span> <span class="k">as</span> <span class="n">encoded_target</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">source</span><span class="p">:</span>
         <span class="n">encoded_target</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="decode-data">
<h3>Decode data<a class="headerlink" href="#decode-data" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Because of how the base64 transformation works, any calls to <code class="docutils literal notranslate"><span class="pre">read()</span></code> might read up
to three additional bytes from the underlying stream.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">base64io</span> <span class="kn">import</span> <span class="n">Base64IO</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;encoded_file&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">encoded_source</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;target_file&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">target</span><span class="p">:</span>
   <span class="k">with</span> <span class="n">Base64IO</span><span class="p">(</span><span class="n">encoded_source</span><span class="p">)</span> <span class="k">as</span> <span class="n">source</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">source</span><span class="p">:</span>
         <span class="n">target</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>This library is licensed under the Apache 2.0 License.</p>
</div>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/base64io.html#module-base64io" title="base64io"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base64io</span></code></a></td>
<td>Base64 stream context manager.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generated/base64io.html" class="btn btn-neutral float-right" title="base64io" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Amazon.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>