
<html><head></head><body><h1 id="building-and-deploying">Building and deploying</h1>
<hr />
<p>Maven is the main tool for building and deploying a complete application. It takes care of:</p>
<ul>
<li>building the java libraries and webapp(s)</li>
<li>calling NPM as needed to take care of the frontend builds</li>
<li>launching both backend and frontend test suites</li>
<li>creating the final war for deploy into a J2EE container (e.g. Tomcat)</li>
</ul>
<p>To create the final war, you have several options:</p>
<ul>
<li><p>full build, including submodules and frontend (e.g. GeoStore)</p>
<p><code>./build.sh [version_identifier]</code></p>
<p>Where version_identifier is an optional identifier of the generated war that will be shown in the settings panel of the application.</p>
</li>
<li><p>fast build (will use the last compiled version of submodules and compiled frontend)</p>
</li>
</ul>
<p><code>mvn clean install</code> -Dmapstore2.version=[version_identifier]</p>
<h3 id="building-the-documentation">Building the documentation</h3>
<p>MapStore2 uses JSDoc to annotate the components, so the documentation can be automatically generated using <a href="http://onury.github.io/docma/">docma</a>.<br>Please see <a href="http://usejsdoc.org/">http://usejsdoc.org/</a> for further information about code documentation.  </p>
<p>Refer to the existing files to follow the documentation style:</p>
<ul>
<li><a href="https://github.com/geosolutions-it/MapStore2/blob/master/web/client/actions/controls.js">actions</a></li>
<li><a href="https://github.com/geosolutions-it/MapStore2/blob/master/web/client/reducers/controls.js">reducers</a></li>
<li><a href="https://github.com/geosolutions-it/MapStore2/blob/master/web/client/components/buttons/FullScreenButton.jsx">components</a></li>
<li><a href="https://github.com/geosolutions-it/MapStore2/blob/master/web/client/epics/fullscreen.js">epics</a></li>
<li><a href="https://github.com/geosolutions-it/MapStore2/blob/master/web/client/plugins/Login.jsx">plugins</a></li>
</ul>
<p>To install docma:</p>
<p><code>npm install -g docma</code></p>
<p>While developing you can generate the documentation to be accessible in the local machine by:</p>
<p><code>npm run doctest</code></p>
<p>The resulting doc will be accessible from <a href="http://localhost:8081/mapstore/docs/">http://localhost:8081/mapstore/docs/</a></p>
<p>For the production deploy a different npm task must be used:</p>
<p><code>npm run doc</code></p>
<p>The documentation will be accessible from the <em>/mapstore/docs/</em> path</p>
<p>The generated folders can be removed with:</p>
<p><code>npm run cleandoc</code></p>
</body></html>