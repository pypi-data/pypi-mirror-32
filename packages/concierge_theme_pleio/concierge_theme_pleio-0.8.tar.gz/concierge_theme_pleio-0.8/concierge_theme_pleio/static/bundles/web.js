webpackJsonp([0],{0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(3);s.n(o);$(document).ready(function(){$(".password__toggle").on("click",function(e){$(this).parent().find("input").each(function(){"password"==$(this).attr("type")?$(this).attr("type","text"):$(this).attr("type","password")})}),$("input").keypress(function(e){var t=e.which||e.keyCode;if("password"==$(this).attr("type")){var s=String.fromCharCode(e.which);s.toUpperCase()!==s||s.toLowerCase()===s||e.shiftKey?$(".capslock").text(""):$(this).siblings(".capslock").text(gettext("Attention: CAPS LOCK is ON"))}else 13==t&&$(".loginview__emailsubmit").hasClass("___active")&&(e.preventDefault(),i.validate()),$(".capslock").text("")}),$("input").blur(function(e){$(".capslock").text("")});var e=$(".account-theme").data("bg");if(e&&$(".account-theme").css("background-image","url("+e+")"),"login"!=$("form").data("step")&&localStorage.removeItem("user_idp"),"login"==$("form").data("step")&&($(".messages.error").children().length&&i.show("login"),$(".login__check_account_type").on("click",function(){i.validate()}),$(".loginview__saml-regularlogin").on("click",function(){i.show("login")})),"login"==$("form").data("step")&&"True"==$("form").data("samlconnect"))try{JSON.parse(localStorage.getItem("user_idp")).user_exists?i.show("connect"):i.show("connectanduser")}catch(e){i.show("connectanduser")}});var i=function(){return{validate:function(){var e=$(".loginview__email"),t=$("#id_username",e),s=t.val();if(!s)return!1;i.check(s)},check:function(e){$.post("/get_user_and_idp/",{email:e,csrfmiddlewaretoken:document.getElementsByName("csrfmiddlewaretoken")[0].value},function(e){e?i.process(e):i.process()},"json")},process:function(e){if(!e||!e.user_exists&&!e.idp)return localStorage.removeItem("user_idp"),window.location.href="/register/",!1;localStorage.setItem("user_idp",JSON.stringify(e)),e.idp?($(".button__saml_login").attr("href","/saml/sso/"+e.idp+"/").find("span").text(e.idp),e.user_exists?i.show("samlanduser"):(i.show("saml"),$(".button__saml_login").focus())):e.user_exists&&(i.show("login"),$("#id_password").focus())},show:function(e){if(!e)return!1;$(".loginview.___active").removeClass("___active"),$(".loginview__"+e).addClass("___active"),"connect"==e||"connectanduser"==e?$(".loginview__email").removeClass("___active"):$(".loginview__email").addClass("___active")}}}()},3:function(e,t){},8:function(e,t,s){e.exports=s(0)}},[8]);