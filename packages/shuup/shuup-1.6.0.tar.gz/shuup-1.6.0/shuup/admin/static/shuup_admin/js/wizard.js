"use strict";!function(i){i.fn.wizard=function(){function t(){return l.index(p)==l.length-1}function n(i,t,n,e,a){return'<button name="'+t+'"class="btn btn-lg '+e+'" '+(n?"disabled":"")+(a?"data-toggle='tooltip' data-placement='bottom' title='"+a+"'":"")+">"+i+"</button>"}function e(){l.find(".action-bar").remove();var i=!1,e=!1;0===l.index(p)&&(i=!0),t()&&!c.redirectOnLastPane&&(e=!0),p.append('<div class="action-bar"><div class="clearfix">'+n(gettext("Previous"),"previous",i,"btn-primary pull-left "+(c.hidePrevious?"hidden":""))+n(t()?gettext("Finish"):gettext("Next"),"next",e,"btn-primary pull-right")+"</div>"+("True"===p.data("can_skip")||c.skip?'<div class="clearfix">'+n(gettext("Skip"),"skip",!1,"btn-default pull-right",c.skipTooltip)+"</div>":"")+"</div>"),p.find('[data-toggle="tooltip"]').tooltip()}function a(i){f.removeClass("active"),l.removeClass("active"),u=f.eq(i),p=l.eq(i),u.addClass("active"),p.addClass("active"),e()}function r(){a(l.index(p)+1)}function o(){a(l.index(p)-1)}function s(){var t=p.find("form");return clearErrors(t),i.ajax({method:"POST",traditional:!0,data:serializeForm(t)})}var d=this,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],f=this.find(".wizard-nav li"),l=this.find(".wizard-pane"),u=f.find(".active"),p=l.filter(".active"),v={next:r,previous:o,submit:s};return c in v?v[c]():(i.isNumeric(c)?a(c):(this.on("click","button[name='next']",function(){d.find("button[name='next']").prepend('<i class="fa fa-spinner fa-pulse fa-fw"></i>'),c.next?c.next(p):s().done(function(){c.redirectOnLastPane&&t()?window.location=c.redirectOnLastPane:r()}).fail(function(i){d.find("i.fa.fa-spinner").remove(),renderFormErrors(p.find("form"),i.responseJSON)})}),this.on("click","button[name='previous']",function(){d.find("button[name='previous']").prepend('<i class="fa fa-spinner fa-pulse fa-fw"></i>'),c.previous?c.previous(p):o()}),this.on("click","button[name='skip']",function(){c.redirectOnLastPane&&t()?window.location=c.redirectOnLastPane:r()}),a(0)),this)}}(jQuery);
//# sourceMappingURL=wizard.js.map
